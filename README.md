# G-code Gradient Infill Post-Processing Script

Original idear by CDC kitchen for Cura sliser:

Gradient Infill - NEW efficient infill for 3D prints!
https://www.youtube.com/watch?v=hq53gsYREHU

This Python script modifies the G-code generated by Orca Slicer. It adds specific modifications to the extrusion flow based on the type of infill used, and it can also detect and handle G2/G3 commands (arc movements) within the infill sections. The script is configured to process G-code files in place, directly modifying the provided file.

## Features

- **Modify extrusion flow:** Adjust the flow and speed (feedrate) of extrusion based on infill type and proximity to the perimeter.
- **Detect G2/G3 commands:** Provides warnings if G2/G3 commands (arc movements) are found within the infill section.
- **Supports relative extrusion:** Warns if absolute extrusion (M82) is detected, as the script requires relative extrusion (M83).
- **Processes G-code in place:** Modifies the G-code file directly.
- **Configuration file support:** Uses a `script_config.cfg` file to store default values such as maximum/minimum flow, gradient thickness, and gradient discretization.
- **Logging:** Outputs a log file with details about the processing.

## Requirements

- **Python 3.x** to build.
- Compatible with **Orca Slicer**, **PrusaSlicer**, and other slicers that support post-processing scripts.

## Setup

1. **Place the script:**
   - Copy the script to a directory on your system, e.g.
   - The script will automatically create a configuration file (`script_config.cfg`) in the same directory as the script on the first run if it doesn't exist.

2. **Configure post-processing in your slicer:**
   - Open **Orca Slicer**.
   - Go to **Printer Settings** > **Post-processing Scripts**.
   - Add your script using the command:
     ```bash
     orca_addGradientInfill.exe --max_flow 250
     ```
   - The slicer will automatically pass the G-code file path as the only argument to the script.

## Configuration

The script uses a configuration file (`script_config.cfg`) to store default values for the extrusion flow and gradient settings. You can adjust the following parameters:

```ini
[DEFAULT]
MAX_FLOW = 250.0            # Maximum extrusion flow percentage
MIN_FLOW = 50.0             # Minimum extrusion flow percentage
GRADIENT_THICKNESS = 6.0    # Thickness of the gradient in mm
GRADIENT_DISCRETIZATION = 4.0  # Number of segments within the gradient
